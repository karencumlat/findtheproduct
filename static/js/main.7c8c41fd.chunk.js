(this.webpackJsonpfindtheproduct=this.webpackJsonpfindtheproduct||[]).push([[0],{29:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var c=t(2),i=t.n(c),o=t(21),a=t.n(o),r=(t(29),t(7)),l=t(14);t(36),t(30);l.a.apps.length?l.a.app():l.a.initializeApp({apiKey:"AIzaSyBeVBGkX0XS5Rt8x4oFgY4VW1T9gfoeKbg",authDomain:"findtheproduct-d3a4d.firebaseapp.com",projectId:"findtheproduct-d3a4d"});var s,d=l.a,u=["apple","lemon","orange","watermelon"],j=t(5),b=t(4),h="#24a148",m="#161616",f="#FFFFFF",p="#F4F4F4",O="#6F6F6F",x=b.b.div(s||(s=Object(j.a)(["\n  position: absolute;\n  background-color: ",";\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"])),f),g=t(1);var v,k,y,w,C,S,F,N=function(){return Object(g.jsx)(x,{children:u.map((function(e){return Object(g.jsx)("img",{src:"/findtheproduct/images/"+e+".gif",alt:"watermelon illustration"},e)}))})},A=Object(c.createContext)(),z=function(e){var n=e.children,t=Object(c.useState)(null),i=Object(r.a)(t,2),o=i[0],a=i[1],l=Object(c.useState)(!0),s=Object(r.a)(l,2),u=s[0],j=s[1];return Object(c.useEffect)((function(){d.auth().onAuthStateChanged((function(e){a(e),j(!1)}))}),[]),u?Object(g.jsx)(N,{}):Object(g.jsx)(A.Provider,{value:{currentUser:o},children:n})},E=t(38),W=t(9),I=["Aisle 1","Aisle 2","Aisle 3","Aisle 4","Aisle 5","Aisle 6","Aisle 7","Aisle 8","Aisle 9","Bakery","Deli","Canteen","Salad/Juice","Produce","Sushi","Seafood","Meat","Dairy","Patisserie"],B=b.b.div(v||(v=Object(j.a)(["\n  .product-tile--item {\n    padding: 0.5em 0;\n    display: flex;\n    margin: 0.5em 0;\n    align-items: center;\n\n    .product-tile--name {\n      margin: 0 0 0 1rem;\n      flex: 2;\n      text-transform: capitalize;\n      display: flex;\n      flex-direction: column;\n\n      span {\n        font-size: 0.75em;\n        color: ",";\n      }\n    }\n  }\n\n  .add-new-item {\n    width: 100%;\n    position: sticky;\n    bottom: 0;\n    padding: 0 0 1.5em;\n    background-color: ",";\n    border: none;\n  }\n"])),O,f),T=(b.b.div(k||(k=Object(j.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  transform: translate(0, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.25em;\n    right: 0.25em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  > input {\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),f),t(11)),P=b.b.button(y||(y=Object(j.a)(["\n  padding: 0.5em;\n  width: ",";\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n"])),(function(e){return e.fullWidth?"100%":"auto"}),(function(e){return e.primary&&Object(b.a)(w||(w=Object(j.a)(["\n      background: ",";\n      color: ",";\n    "])),h,f)}),(function(e){return e.secondary&&Object(b.a)(C||(C=Object(j.a)(["\n      background: ",";\n      color: ",";\n    "])),m,f)}),(function(e){return e.tertiary&&Object(b.a)(S||(S=Object(j.a)(["\n      background: ",";\n      border: "," 1px solid;\n      color: ",";\n\n      &:hover {\n        background: ",";\n        color: ",";\n        border-color: ",";\n      }\n    "])),f,m,m,h,f,h)}),(function(e){return e.ghost&&Object(b.a)(F||(F=Object(j.a)(["\n      color: ",";\n\n      &:hover {\n        color: ",";\n      }\n    "])),m,h)}));var U,V=function(e){var n=e.onClick,t=e.children;return Object(g.jsx)(P,Object(T.a)(Object(T.a)({onClick:n},e),{},{children:t}))},L=b.b.div(U||(U=Object(j.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.5em;\n    right: 0.5em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  .modal-content {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .modal-content > * {\n    flex: 1;\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),f);var D,J,R,K,M,X=function(e){var n=e.onClose,t=e.heading,c=e.onSave,i=e.children,o=e.primaryBtn,a=e.secondaryBtn;return Object(g.jsxs)(L,Object(T.a)(Object(T.a)({},e),{},{children:[Object(g.jsx)("h3",{children:t}),Object(g.jsx)(V,{onClick:n,ghost:!0,className:"modal--close-btn",children:Object(g.jsx)(W.c,{})}),Object(g.jsx)("div",{className:"modal-content",children:i}),Object(g.jsxs)("div",{className:"modal-btn",children:[Object(g.jsx)(V,{onClick:n,secondary:!0,fullWidth:!0,children:a||"Cancel"}),Object(g.jsx)(V,{onClick:c,primary:!0,fullWidth:!0,children:o||"Save"})]})]}))},q=b.b.div(D||(D=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),G=b.b.span(J||(J=Object(j.a)(["\n  position: absolute;\n  right: 0.5em;\n  top: 0.3em;\n  font-size: 1.5em;\n  color: #272d36;\n"]))),Y=b.b.div(R||(R=Object(j.a)(["\n  position: absolute;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  width: 100%;\n  height: 255px;\n  overflow-y: scroll;\n"]))),H=b.b.div((function(e){Object.assign({},e);return Object(b.a)(K||(K=Object(j.a)(["\n    position: relative;\n    ","\n    ","\n    ","\n  "])),G,q,Y)})),Q=b.b.button(M||(M=Object(j.a)(["\n  width: 100%;\n  padding: 0.5em 0.5em 0.5em 1em;\n  text-align: left;\n  border-bottom: 1px solid #e1e2e2;\n  text-transform: capitalize;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content:flex-start;\n}\n\n&:active {\n  background-color: red;\n}\n\n&:hover {\n  background-color: #e1e2e2;\n}\n\n\n"])));var Z,$=function(e){var n=e.option,t=e.children,c=e.onClick;return Object(g.jsx)(Q,{onClick:c,value:n.id,children:t||n})};b.b.i(Z||(Z=Object(j.a)(["\n  color: ",";\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 0.25em;\n"])),h);var _,ee=function(e){var n=e.options,t=e.onClick,i=Object(c.useState)(!1),o=Object(r.a)(i,2),a=(o[0],o[1],Object(c.useState)(!1)),l=Object(r.a)(a,2),s=(l[0],l[1]);return n.length<1?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)($,{option:"No results found..."}),Object(g.jsxs)($,{onClick:function(){return s(!1)},children:[Object(g.jsx)("i",{className:"add-new-item--icon",children:Object(g.jsx)(W.a,{})})," ","Add New Item"]})]}):Object(g.jsx)(g.Fragment,{children:n.map((function(e){return Object(g.jsxs)($,{onClick:t,option:e,sub:e.aisle,children:[e.item," (",e.aisle,")"]},e.id)}))})},ne=b.b.input(_||(_=Object(j.a)(["\n  border: none;\n  width: ",";\n\n  padding: 1em;\n  background-color: ",";\n  border-bottom: "," 1px solid;\n\n  &:focus {\n    outline: "," 2px solid;\n    border: none;\n  }\n"])),(function(e){return e.fullWidth?"100%":"auto"}),p,m,h);var te=function(e){var n=e.type,t=e.placeholder,c=e.onChange,i=e.value,o=e.onFocus;return Object(g.jsx)(ne,Object(T.a)({type:n,placeholder:t,value:i,onChange:c,onFocus:o},e))};var ce,ie=function(e){var n=e.items,t=e.onClick,i=e.placeholder,o=Object(c.useState)(""),a=Object(r.a)(o,2),l=a[0],s=a[1],d=Object(c.useState)(!1),u=Object(r.a)(d,2),j=u[0],b=u[1];return Object(g.jsxs)(H,{children:[Object(g.jsxs)(q,{children:[Object(g.jsx)(te,{type:"text",placeholder:i||"find the product...",className:"search-box",value:l,onChange:function(e){s(e.target.value)},onFocus:function(){b(!0)},fullWidth:!0}),Object(g.jsx)(G,{children:j?Object(g.jsx)("button",{onClick:function(){s(""),b(!1)},children:Object(g.jsx)(W.f,{})}):Object(g.jsx)(W.h,{})})]}),!0===j?Object(g.jsx)(Y,{children:Object(g.jsx)(ee,{options:n.filter((function(e){return e.item.toLowerCase().includes(l.toLowerCase())})),onClick:t})}):null]})},oe=b.b.select(ce||(ce=Object(j.a)(["\n  padding: 0.75em;\n  outline: none;\n  color: ",";\n  border: none;\n  border-bottom: "," 1px solid;\n  text-transform: capitalize;\n  background: ",";\n  border-radius: 0;\n\n  &:focus {\n    outline: "," 2px solid;\n    border: none;\n  }\n"])),m,m,p,h);var ae,re=function(e){var n=e.options,t=e.onChange,c=e.selectedItem;return console.log(c),n.length<1?"":Object(g.jsx)(oe,{onChange:t,children:n.sort().map((function(e){return e===c?Object(g.jsx)("option",{value:e,selected:!0,children:e},e):Object(g.jsx)("option",{value:e,children:e},e)}))})},le=b.b.div(ae||(ae=Object(j.a)(["\n  background-color: ",";\n"])),p);var se,de=function(e){var n=e.children;return Object(g.jsx)(le,Object(T.a)(Object(T.a)({},e),{},{children:n}))},ue=b.b.label(se||(se=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n\n  input[type='checkbox'] {\n    opacity: 0;\n    width: 1em;\n    height: 1em;\n  }\n\n  .checked {\n    color: ",";\n  }\n\n  .checkbox-icon {\n    text-align: right;\n    padding: 0 0.5em;\n    font-size: 1.25em;\n  }\n\n  .checkbox-label {\n    margin-left: -1rem;\n  }\n\n  .checkbox-label.strike {\n    text-decoration: line-through;\n  }\n\n  .checkbox-label::first-letter {\n    text-transform: capitalize;\n  }\n"])),h);var je=function(e){var n=e.labelName,t=e.checkedState;return Object(g.jsxs)(ue,Object(T.a)(Object(T.a)({},e),{},{children:[Object(g.jsx)("i",{className:"checkbox-icon",children:!0===t?Object(g.jsx)("i",{className:"checked",children:Object(g.jsx)(W.b,{})}):Object(g.jsx)(W.e,{})}),Object(g.jsx)("input",{type:"checkbox",value:n,checked:t}),Object(g.jsx)("span",{className:!0===t?"checkbox-label strike":"checkbox-label",children:n})]}))};var be,he=function(){var e=Object(c.useContext)(A).currentUser,n=e?e.uid:null,t=e?e.email:null,i=Object(c.useState)([]),o=Object(r.a)(i,2),a=o[0],l=o[1],s=Object(c.useState)([]),u=Object(r.a)(s,2),j=u[0],b=u[1],h=Object(c.useState)(!1),m=Object(r.a)(h,2),f=m[0],p=m[1],O=Object(c.useState)(""),x=Object(r.a)(O,2),v=x[0],k=x[1],y=Object(c.useState)(""),w=Object(r.a)(y,2),C=w[0],S=w[1],F=Object(c.useState)(!1),z=Object(r.a)(F,2),T=z[0],P=z[1],U=Object(c.useState)({}),L=Object(r.a)(U,2),D=L[0],J=L[1],R=Object(c.useState)(!1),K=Object(r.a)(R,2),M=K[0],q=K[1],G=d.firestore().collection("products"),Y=d.firestore().collection("shoppinglist");return Object(c.useEffect)((function(){p(!0),G.orderBy("aisle","asc").onSnapshot((function(e){var n=[];e.forEach((function(e){n.push(e.data())})),l(n),p(!1)})),p(!0),b([]),Y.where("owner","==",n).orderBy("aisle","asc").onSnapshot((function(e){var n=[];e.forEach((function(e){n.push(e.data())})),b(n),p(!1)}))}),[e]),Object(g.jsx)(g.Fragment,{children:"karencumlat@gmail.com"===t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ie,{items:a}),!0===T?Object(g.jsxs)(X,{heading:"Add New Item",onClose:function(){P(!1),S(null)},onSave:function(){return function(){var n=e?e.uid:"unknown",t=e?e.email:"unknown",c={aisle:v,item:C,id:Object(E.a)(),owner:n,ownerEmail:t,createdAt:d.firestore.FieldValue.serverTimestamp(),lastUpdate:d.firestore.FieldValue.serverTimestamp()};G.doc(c.id).set(c).catch((function(e){console.error(e)}))}()},primaryBtn:"Add",children:[Object(g.jsx)(te,{placeholder:"Item name",type:"text",value:C,onChange:function(e){return S(e.target.value)}}),Object(g.jsx)(re,{options:I,onChange:function(e){return k(e.target.value)}})]}):"",!0===M?Object(g.jsxs)(X,{heading:"Edit item",onClose:function(){q(!1),S(null)},onSave:function(){return function(e){var n={item:C,aisle:v,lastUpdate:d.firestore.FieldValue.serverTimestamp()};p(),G.doc(e.id).update(n).catch((function(e){console.error(e)}))}(D)},children:[Object(g.jsx)(te,{placeholder:"Item name",type:"text",value:C,onChange:function(e){return S(e.target.value)}}),Object(g.jsx)(re,{selectedItem:v,options:I,onChange:function(e){return k(e.target.value)}})]}):"",f?Object(g.jsx)(N,{}):null,Object(g.jsxs)(B,{children:[a.map((function(e){return Object(g.jsxs)(de,{className:"product-tile--item",children:[Object(g.jsxs)("div",{className:"product-tile--name",children:[Object(g.jsx)("p",{children:e.item}),Object(g.jsx)("span",{children:e.aisle})]}),Object(g.jsxs)("span",{className:"product-tile-buttons",children:[Object(g.jsx)(V,{onClick:function(){J(e),S(e.item),k(e.aisle),q(!0)},ghost:!0,children:Object(g.jsx)(W.g,{})}),Object(g.jsx)(V,{onClick:function(){return function(e){G.doc(e.id).delete().catch((function(e){console.error(e)}))}(e)},ghost:!0,children:Object(g.jsx)(W.i,{})})]})]},e.id)})),Object(g.jsx)("span",{className:"add-new-item",children:Object(g.jsx)(V,{primary:!0,fullWidth:!0,onClick:function(){return P(!0)},children:"Add New Item"})})," "]})]}):null!==e?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ie,{items:a,onClick:function(n){var t=n.target.value,c=a.filter((function(e){return e.id===t})),i=e?e.uid:"unknown",o=e?e.email:"unknown",r={aisle:c[0].aisle,item:c[0].item,id:c[0].id,checkedState:!1,owner:i,ownerEmail:o,createdAt:d.firestore.FieldValue.serverTimestamp(),lastUpdate:d.firestore.FieldValue.serverTimestamp()};Y.doc(r.id).set(r).catch((function(e){console.error(e)}))},placeholder:"+ Add an item"}),f?Object(g.jsx)(N,{}):null,Object(g.jsx)(B,{children:j.map((function(e){return Object(g.jsxs)(de,{className:"product-tile--item",children:[Object(g.jsx)(je,{checkedState:e.checkedState,labelName:e.item,onChange:function(n){return function(e,n){var t=e.target.checked,c={checkedState:t,lastUpdate:d.firestore.FieldValue.serverTimestamp()};console.log(n.id,t),p(),Y.doc(n.id).update(c).catch((function(e){console.error(e)}))}(n,e)}}),Object(g.jsx)("span",{className:"product-tile-buttons",children:Object(g.jsx)(V,{onClick:function(){return function(e){Y.doc(e.id).delete().catch((function(e){console.error(e)}))}(e)},ghost:!0,children:Object(g.jsx)(W.i,{})})})]},e.id)}))}),Object(g.jsx)(V,{onClick:function(){Y.where("owner","==",n).onSnapshot((function(e){e.forEach((function(e){e.ref.delete()}))})),setTimeout(window.location.reload(),3e3)},children:"Clear list"}),Object(g.jsx)(V,{secondary:!0,onClick:function(){Y.where("owner","==",n).where("checkedState","==",!0).onSnapshot((function(e){e.forEach((function(e){e.ref.delete()}))}))},children:"Remove checked items"})]}):""})},me=b.b.div(be||(be=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 4em;\n\n  .authy-form {\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .authy-form--input > * {\n      margin: 0 0 1rem 0;\n    }\n\n    h3 {\n      margin-bottom: 0;\n    }\n\n    .authy-form--image {\n      margin: 0 0 1rem 0;\n    }\n\n    .authy--illustration {\n      width: 80%;\n      margin: 0 auto;\n      display: block;\n    }\n\n    .authy--login-btn {\n      margin: 1rem 0 0 0;\n    }\n\n    .authy-or {\n      display: flex;\n      justify-content: center;\n      margin: 0;\n    }\n  }\n  .authy-success {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    h1 {\n      flex: 1;\n    }\n\n    button {\n      padding: 0;\n    }\n  }\n\n  .authy--logout-btn {\n    font-size: 2em;\n  }\n"])));var fe=function(){var e=Object(c.useState)(""),n=Object(r.a)(e,2),t=n[0],i=n[1],o=Object(c.useState)(""),a=Object(r.a)(o,2),l=a[0],s=a[1],u=Object(c.useState)(!1),j=Object(r.a)(u,2),b=(j[0],j[1]),h=Object(c.useContext)(A).currentUser,m=h?h.email:"",f=function(){i(""),s("")};return Object(g.jsx)(me,{children:""===m?Object(g.jsxs)("div",{className:"authy-form",children:[Object(g.jsxs)("div",{className:"authy-form--image",children:[Object(g.jsx)("img",{src:"/findtheproduct/images/homescreen.svg",alt:"watermelon illustration",className:"authy--illustration"}),Object(g.jsx)("h3",{children:"Find the product."}),Object(g.jsx)("p",{children:"Find items quicks through the aisles."})]}),Object(g.jsxs)("div",{className:"authy-form--input",children:[Object(g.jsx)(te,{type:"email",value:t,onChange:function(e){return i(e.target.value)},placeholder:"Email Address",fullWidth:!0}),Object(g.jsx)(te,{type:"password",value:l,onChange:function(e){return s(e.target.value)},placeholder:"Password",fullWidth:!0}),Object(g.jsx)(V,{onClick:function(){d.auth().signInWithEmailAndPassword(t,l).then((function(){b(!0),f()})).catch((function(e){console.error(e),b(!1)}))},primary:!0,fullWidth:!0,className:"authy--login-btn",children:"Login"}),Object(g.jsx)("span",{className:"authy-or",children:"or"}),Object(g.jsx)(V,{onClick:function(){d.auth().createUserWithEmailAndPassword(t,l).then((function(){f()})).catch((function(e){console.error(e)}))},tertiary:!0,fullWidth:!0,children:"Register"})]})]}):Object(g.jsxs)("div",{className:"authy-success",children:[Object(g.jsx)("h1",{children:"find the product"}),Object(g.jsx)(V,{onClick:function(){d.auth().signOut(),b(!1)},className:"authy--logout-btn",ghost:!0,children:Object(g.jsx)(W.d,{})})]})})};t(34);var pe=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(z,{children:[Object(g.jsx)(fe,{}),Object(g.jsx)(he,{})]})})},Oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),o(e),a(e)}))};a.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(pe,{})}),document.getElementById("root")),Oe()}},[[35,1,2]]]);
//# sourceMappingURL=main.7c8c41fd.chunk.js.map