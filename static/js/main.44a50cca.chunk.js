(this.webpackJsonpfindtheproduct=this.webpackJsonpfindtheproduct||[]).push([[0],{31:function(n,e,t){},36:function(n,e,t){},37:function(n,e,t){},38:function(n,e,t){"use strict";t.r(e);var i=t(3),c=t.n(i),o=t(22),r=t.n(o),a=(t(31),t(7)),l=t(15);t(39),t(32);l.a.apps.length?l.a.app():l.a.initializeApp({apiKey:"AIzaSyBeVBGkX0XS5Rt8x4oFgY4VW1T9gfoeKbg",authDomain:"findtheproduct-d3a4d.firebaseapp.com",projectId:"findtheproduct-d3a4d"});var s,d=l.a,u=["apple","lemon","orange","watermelon"],b=t(6),j=t(5),O={COLOR:{GREEN:"#24a148",BLACK:"#161616",WHITE:"#FFFFFF",GRAY:"#F4F4F4",GRAY50:"#6F6F6F",GRAY90:"#262626",RED:"#DA1E28"},BOXSHADOW:"0px 2px 4px rgba(0, 0, 0, 0.25)"},h=j.b.div(s||(s=Object(b.a)(["\n  position: absolute;\n  background-color: ",";\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n"])),O.COLOR.WHITE),m=t(2);var f,p,x,g,v,C,y=function(){return Object(m.jsx)(h,{children:u.map((function(n){return Object(m.jsx)("img",{src:"/findtheproduct/images/"+n+".gif",alt:"watermelon illustration"},n)}))})},k=Object(i.createContext)(),R=function(n){var e=n.children,t=Object(i.useState)(null),c=Object(a.a)(t,2),o=c[0],r=c[1],l=Object(i.useState)(!0),s=Object(a.a)(l,2),u=s[0],b=s[1];return Object(i.useEffect)((function(){d.auth().onAuthStateChanged((function(n){r(n),b(!1)}))}),[]),u?Object(m.jsx)(y,{}):Object(m.jsx)(k.Provider,{value:{currentUser:o},children:e})},w=j.b.div(f||(f=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n\n  .authy-form {\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .authy-form--input {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    .authy-form--input > * {\n      margin: 0 0 1rem 0;\n    }\n\n    h3 {\n      margin-bottom: 0.25rem;\n    }\n\n    .authy-form--image {\n      margin: 0 0 1rem 0;\n      -webkit-transform: scaleX(-1);\n      transform: scaleX(-1);\n    }\n\n    .authy--illustration {\n      width: 80%;\n      margin: 0 auto;\n      display: block;\n    }\n\n    .authy--login-btn {\n      margin: 1rem 0 0 0;\n    }\n\n    .authy-or {\n      display: flex;\n      justify-content: center;\n      margin: 0;\n    }\n  }\n  .authy-success {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    h1 {\n      flex: 1;\n    }\n\n    button {\n      padding: 0;\n    }\n  }\n\n  .authy--logout-btn {\n    font-size: 2em;\n  }\n\n  @media (min-width: 768px) {\n    .authy-form {\n      flex-direction: row;\n      height: 90%;\n    }\n\n    .authy-form--image,\n    .authy-form--input {\n      flex: 1;\n\n      .authy--illustration {\n        height: 90%;\n      }\n    }\n\n    .authy-form--input {\n      padding: 0 10rem;\n    }\n  }\n"]))),L=t(8),E=j.b.button(p||(p=Object(b.a)(["\n  padding: 0.5em;\n  width: ",";\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n"])),(function(n){return n.fullWidth?"100%":"auto"}),(function(n){return n.primary&&Object(j.a)(x||(x=Object(b.a)(["\n      background: ",";\n      color: ",";\n    "])),O.COLOR.GREEN,O.COLOR.WHITE)}),(function(n){return n.secondary&&Object(j.a)(g||(g=Object(b.a)(["\n      background: ",";\n      color: ",";\n    "])),O.COLOR.BLACK,O.COLOR.WHITE)}),(function(n){return n.tertiary&&Object(j.a)(v||(v=Object(b.a)(["\n      background: ",";\n      border: "," 1px solid;\n      color: ",";\n\n      &:hover {\n        background: ",";\n        color: ",";\n        border-color: ",";\n      }\n    "])),O.COLOR.WHITE,O.COLOR.BLACK,O.COLOR.BLACK,O.COLOR.GREEN,O.COLOR.WHITE,O.COLOR.GREEN)}),(function(n){return n.ghost&&Object(j.a)(C||(C=Object(b.a)(["\n      color: ",";\n\n      &:hover {\n        color: ",";\n      }\n    "])),O.COLOR.BLACK,O.COLOR.GREEN)}));var A,S=function(n){var e=n.onClick,t=n.children;return Object(m.jsx)(E,Object(L.a)(Object(L.a)({onClick:e},n),{},{children:t}))},N=j.b.input(A||(A=Object(b.a)(["\n  border: none;\n  width: ",";\n\n  padding: 1em;\n  background-color: ",";\n  border-bottom: "," 1px solid;\n\n  &:focus {\n    outline: "," 2px solid;\n    border: none;\n  }\n"])),(function(n){return n.fullWidth?"100%":"auto"}),O.COLOR.GRAY,O.COLOR.BLACK,O.COLOR.GREEN);var F,W=function(n){var e=n.type,t=n.placeholder,i=n.onChange,c=n.value,o=n.onFocus;return Object(m.jsx)(N,Object(L.a)({type:e,placeholder:t,value:c,onChange:i,onFocus:o},n))},I=t(11),T=j.b.div(F||(F=Object(b.a)(["\n  background-color: ",";\n  color: ",";\n  border-left: 0.25rem solid;\n  border-color: ",";\n  border-radius: 2px;\n  padding: 0.5em 1em;\n  display: flex;\n  align-items: center;\n\n  & > p {\n    flex: 1;\n  }\n\n  & > button {\n    color: ",";\n    font-size: 2rem;\n    padding: 0;\n\n    :hover {\n      color: ",";\n    }\n  }\n"])),O.COLOR.GRAY90,O.COLOR.WHITE,(function(n){return n.error?"".concat(O.COLOR.RED):n.success?"".concat(O.COLOR.GREEN):"".concat(O.COLOR.WHITE)}),O.COLOR.WHITE,O.COLOR.WHITE);var G=function(n){var e=n.title,t=n.timeout,c=n.autohide,o=Object(i.useState)(!0),r=Object(a.a)(o,2),l=(r[0],r[1]),s=t||3e3;return Object(i.useEffect)((function(){c&&setTimeout((function(){l(!1)}),s)})),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(T,Object(L.a)(Object(L.a)({},n),{},{children:[Object(m.jsx)("p",{children:e}),Object(m.jsx)(S,{ghost:!0,onClick:function(){return l(!1)},children:Object(m.jsx)(I.b,{})})]}))})};var z=function(){var n=Object(i.useState)(""),e=Object(a.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(""),r=Object(a.a)(o,2),l=r[0],s=r[1],u=Object(i.useState)(""),b=Object(a.a)(u,2),j=b[0],O=b[1],h=function(){c(""),s("")};return Object(m.jsx)(w,{children:Object(m.jsxs)("div",{className:"authy-form",children:[Object(m.jsx)("div",{className:"authy-form--image",children:Object(m.jsx)("img",{src:"/findtheproduct/images/watermelon02.svg",alt:"watermelon illustration",className:"authy--illustration"})}),Object(m.jsxs)("div",{className:"authy-form--input",children:[Object(m.jsx)("h3",{children:"Find the product."}),Object(m.jsx)("p",{children:"Add the product and you'll only need to make one loop to get your entire haul."}),""!==j?Object(m.jsx)(G,{title:j}):null,Object(m.jsx)(W,{type:"email",value:t,onChange:function(n){return c(n.target.value)},placeholder:"Email Address",fullWidth:!0}),Object(m.jsx)(W,{type:"password",value:l,onChange:function(n){return s(n.target.value)},placeholder:"Password",fullWidth:!0}),Object(m.jsx)(S,{onClick:function(){d.auth().signInWithEmailAndPassword(t,l).then((function(){h()})).catch((function(n){console.error(n),O(n.message)}))},primary:!0,fullWidth:!0,className:"authy--login-btn",children:"Login"}),Object(m.jsx)("span",{className:"authy-or",children:"or"}),Object(m.jsx)(S,{onClick:function(){d.auth().createUserWithEmailAndPassword(t,l).then((function(){h()})).catch((function(n){console.error(n)}))},tertiary:!0,fullWidth:!0,children:"Register"})]})]})})},B=t(41),H=["Aisle 1","Aisle 2","Aisle 3","Aisle 4","Aisle 5","Aisle 6","Aisle 7","Aisle 8","Aisle 9","Bakery","Deli","Canteen","Salad/Juice","Produce","Sushi","Seafood","Meat","Dairy","Patisserie"];var D,Y,K,U,P=function(){d.auth().signOut()},V=(j.b.div(D||(D=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 0 0.5rem 0;\n\n  h1 {\n    font-size: 1.5rem;\n    flex: 1;\n  }\n\n  & > button {\n    font-size: 2rem;\n    padding: 0 0.5rem 0 0;\n  }\n"]))),j.b.div(Y||(Y=Object(b.a)(["\n  .product-tile--item {\n    padding: 0.5em 0;\n    display: flex;\n    margin: 0.5em 0;\n    align-items: center;\n\n    .product-tile--name {\n      margin: 0 0 0 1rem;\n      flex: 2;\n      text-transform: capitalize;\n      display: flex;\n      flex-direction: column;\n\n      span {\n        font-size: 0.75em;\n        color: ",";\n      }\n    }\n  }\n\n  .add-new-item {\n    width: 100%;\n    position: sticky;\n    bottom: 0;\n    padding: 0 0 1.5em;\n    background-color: ",";\n    border: none;\n  }\n"])),O.COLOR.GRAY50,O.COLOR.WHITE)),X=(j.b.div(K||(K=Object(b.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  transform: translate(0, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.25em;\n    right: 0.25em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  > input {\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),O.COLOR.WHITE),j.b.div(U||(U=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  content: ' ';\n  background-color: rgba(0, 0, 0, 0.25);\n"]))));var J,M=function(n){var e=n.onClick;return Object(m.jsx)(X,Object(L.a)({onClick:e},n))},q=j.b.div(J||(J=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 0 0.5rem 0;\n\n  h1 {\n    font-size: 1.5rem;\n    flex: 1;\n  }\n\n  & > button {\n    font-size: 2rem;\n    padding: 0 0.5rem 0 0;\n  }\n"])));var Q,Z=function(n){var e=n.children;return Object(m.jsx)(q,Object(L.a)(Object(L.a)({},n),{},{children:e}))},$=j.b.div(Q||(Q=Object(b.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  z-index: 100;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.5em;\n    right: 0.5em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  .modal-content {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .modal-content > * {\n    flex: 1;\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),O.COLOR.WHITE);var _,nn,en,tn,cn,on=function(n){var e=n.onClose,t=n.heading,i=n.onSave,c=n.children,o=n.primaryBtn,r=n.secondaryBtn;return Object(m.jsxs)($,Object(L.a)(Object(L.a)({},n),{},{children:[Object(m.jsx)("h3",{children:t}),Object(m.jsx)(S,{onClick:e,ghost:!0,className:"modal--close-btn",children:Object(m.jsx)(I.b,{})}),Object(m.jsx)("div",{className:"modal-content",children:c}),Object(m.jsxs)("div",{className:"modal-btn",children:[Object(m.jsx)(S,{onClick:e,secondary:!0,fullWidth:!0,children:r||"Cancel"}),Object(m.jsx)(S,{onClick:i,primary:!0,fullWidth:!0,children:o||"Save"})]})]}))},rn=j.b.div(_||(_=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),an=j.b.span(nn||(nn=Object(b.a)(["\n  position: absolute;\n  right: 0.5em;\n  top: 0.3em;\n  font-size: 1.5em;\n  color: #272d36;\n"]))),ln=j.b.div(en||(en=Object(b.a)(["\n  position: absolute;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  width: 100%;\n  max-height: 255px;\n  overflow-y: scroll;\n"]))),sn=j.b.div((function(n){Object.assign({},n);return Object(j.a)(tn||(tn=Object(b.a)(["\n    position: relative;\n    ","\n    ","\n    ","\n  "])),an,rn,ln)})),dn=j.b.button(cn||(cn=Object(b.a)(["\n  width: 100%;\n  padding: 0.5em 0.5em 0.5em 1em;\n  text-align: left;\n  border-bottom: 1px solid ",";\n \n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content:flex-start;\n}\n\n&:hover {\n  background-color: ",";\n}\n\n\n"])),O.COLOR.GRAY,O.COLOR.GRAY);var un=function(n){var e=n.option,t=n.children,i=n.onClick,c=n.title;return Object(m.jsx)(dn,{onClick:i,value:e.id,children:t||c})};function bn(n){return n.children}bn.Option=un;var jn=bn;var On,hn=function(n){var e=n.items,t=n.onClick,c=n.placeholder,o=Object(i.useState)(""),r=Object(a.a)(o,2),l=r[0],s=r[1],d=Object(i.useState)(!1),u=Object(a.a)(d,2),b=u[0],j=u[1],O=e.filter((function(n){return n.item.toLowerCase().includes(l.toLowerCase())}));return Object(m.jsxs)(sn,{children:[Object(m.jsxs)(rn,{children:[Object(m.jsx)(W,{type:"text",placeholder:c||"find the product...",className:"search-box",value:l,onChange:function(n){s(n.target.value)},onFocus:function(){j(!0)},fullWidth:!0}),Object(m.jsx)(an,{children:b?Object(m.jsx)("button",{onClick:function(){s(""),j(!1)},children:Object(m.jsx)(I.e,{})}):Object(m.jsx)(I.g,{})})]}),!0===b?Object(m.jsx)(ln,{children:Object(m.jsx)(jn,{children:0===O.length?Object(m.jsx)(jn.Option,{title:"No results found...",option:""}):O.map((function(n){return Object(m.jsx)(jn.Option,{onClick:t,option:n,title:"".concat(n.item," (").concat(n.aisle,")"),sub:n.aisle},n.id)}))})}):null]})},mn=j.b.select(On||(On=Object(b.a)(["\n  padding: 0.75em;\n  outline: none;\n  color: ",";\n  border: none;\n  border-bottom: "," 1px solid;\n  text-transform: capitalize;\n  background: ",";\n  border-radius: 0;\n\n  &:focus {\n    outline: "," 2px solid;\n    border: none;\n  }\n"])),O.COLOR.BLACK,O.COLOR.BLACK,O.COLOR.GRAY,O.COLOR.GREEN);var fn,pn=function(n){var e=n.options,t=n.onChange,i=n.selectedItem;return e.length<1?"":Object(m.jsx)(mn,{onChange:t,children:e.sort().map((function(n){return n===i?Object(m.jsx)("option",{value:n,selected:!0,children:n},n):Object(m.jsx)("option",{value:n,children:n},n)}))})},xn=j.b.div(fn||(fn=Object(b.a)(["\n  background-color: ",";\n"])),O.COLOR.GRAY);var gn=function(n){var e=n.children;return Object(m.jsx)(xn,Object(L.a)(Object(L.a)({},n),{},{children:e}))};var vn,Cn,yn,kn,Rn=function(){var n=Object(i.useContext)(k).currentUser,e=d.firestore().collection("products"),t=Object(i.useState)([]),c=Object(a.a)(t,2),o=c[0],r=c[1],l=Object(i.useState)(!1),s=Object(a.a)(l,2),u=s[0],b=s[1],j=Object(i.useState)(""),O=Object(a.a)(j,2),h=O[0],f=O[1],p=Object(i.useState)(""),x=Object(a.a)(p,2),g=x[0],v=x[1],C=Object(i.useState)(!1),R=Object(a.a)(C,2),w=R[0],L=R[1],E=Object(i.useState)({}),A=Object(a.a)(E,2),N=A[0],F=A[1],T=Object(i.useState)(!1),G=Object(a.a)(T,2),z=G[0],D=G[1],Y=Object(i.useState)({isOpen:!1}),K=Object(a.a)(Y,2),U=K[0],X=K[1];return Object(i.useEffect)((function(){b(!0),e.orderBy("aisle","asc").onSnapshot((function(n){var e=[];n.forEach((function(n){e.push(n.data())})),r(e),b(!1)}))}),[n]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Z,{children:[Object(m.jsx)("h1",{children:"Find the product"}),Object(m.jsx)(S,{onClick:P,children:Object(m.jsx)(I.c,{})})]}),!0===U.isOpen&&Object(m.jsx)(on,{heading:"Delete item",onClose:function(){return X({isOpen:!1})},onSave:function(){return n=U.product,e.doc(n.id).delete().catch((function(n){console.error(n)})),X({isOpen:!1}),void alert("item successfully deleted");var n},primaryBtn:"Delete item",children:"This will remove the item on the list"}),Object(m.jsx)(hn,{items:o}),!0===w?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(on,{heading:"Add New Item",onClose:function(){L(!1),v(null)},onSave:function(){return function(){var t=n?n.uid:"unknown",i=n?n.email:"unknown",c=o.filter((function(n){return n.aisle===h&&n.item===g})),r={aisle:h,item:g,id:Object(B.a)(),owner:t,ownerEmail:i,createdAt:d.firestore.FieldValue.serverTimestamp(),lastUpdate:d.firestore.FieldValue.serverTimestamp()};0===c.length?(e.doc(r.id).set(r).catch((function(n){console.error(n)})),L(!1),alert("item successfully added")):alert("item already exist")}()},primaryBtn:"Add",children:[Object(m.jsx)(W,{placeholder:"Item name",type:"text",value:g,onChange:function(n){return v(n.target.value)}}),Object(m.jsx)(pn,{options:H,onChange:function(n){return f(n.target.value)}})]}),Object(m.jsx)(M,{onClick:function(){return L(!1)}})]}):"",!0===z?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(on,{heading:"Edit item",onClose:function(){D(!1),v(null)},onSave:function(){return function(n){var t={item:g,aisle:h,lastUpdate:d.firestore.FieldValue.serverTimestamp()};0===o.filter((function(n){return n.aisle===h&&n.item===g})).length?(b(),e.doc(n.id).update(t).catch((function(n){console.error(n)})),D(!1),alert("item successfully updated")):alert("item already exist")}(N)},children:[Object(m.jsx)(W,{placeholder:"Item name",type:"text",value:g,onChange:function(n){return v(n.target.value)}}),Object(m.jsx)(pn,{selectedItem:h,options:H,onChange:function(n){return f(n.target.value)}})]}),Object(m.jsx)(M,{onClick:function(){return D(!1)}})]}):"",u?Object(m.jsx)(y,{}):null,Object(m.jsxs)(V,{children:[o.map((function(n){return Object(m.jsxs)(gn,{className:"product-tile--item",children:[Object(m.jsxs)("div",{className:"product-tile--name",children:[Object(m.jsx)("p",{children:n.item}),Object(m.jsx)("span",{children:n.aisle})]}),Object(m.jsxs)("span",{className:"product-tile-buttons",children:[Object(m.jsx)(S,{onClick:function(){F(n),v(n.item),f(n.aisle),D(!0)},ghost:!0,children:Object(m.jsx)(I.f,{})}),Object(m.jsx)(S,{onClick:function(){return X({isOpen:!0,product:n})},ghost:!0,title:"Are you sure you want to delete",children:Object(m.jsx)(I.h,{})})]})]},n.id)})),Object(m.jsx)("span",{className:"add-new-item",children:Object(m.jsx)(S,{primary:!0,fullWidth:!0,onClick:function(){return L(!0)},children:"Add New Item"})})," "]})]})},wn=(j.b.div(vn||(vn=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0 0 0.5rem 0;\n\n  h1 {\n    font-size: 1.5rem;\n    flex: 1;\n  }\n\n  & > button {\n    font-size: 2rem;\n    padding: 0 0.5rem 0 0;\n  }\n"]))),j.b.div(Cn||(Cn=Object(b.a)(["\n  .product-tile--empty > p {\n    text-align: center;\n  }\n  .user--illustration {\n    height: 25em;\n    margin: 2em auto;\n    display: block;\n  }\n\n  .product-tile--item {\n    padding: 0.5em 0;\n    display: flex;\n    margin: 0.5em 0;\n    align-items: center;\n\n    .product-tile--name {\n      margin: 0 0 0 1rem;\n      flex: 2;\n      text-transform: capitalize;\n      display: flex;\n      flex-direction: column;\n\n      span {\n        font-size: 0.75em;\n        color: ",";\n      }\n    }\n  }\n\n  .add-new-item {\n    width: 100%;\n    position: sticky;\n    bottom: 0;\n    padding: 0 0 1.5em;\n    background-color: ",";\n    border: none;\n  }\n"])),O.COLOR.GRAY50,O.COLOR.WHITE)),Ln=(j.b.div(yn||(yn=Object(b.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  transform: translate(0, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.25em;\n    right: 0.25em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  > input {\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),O.COLOR.WHITE),j.b.label(kn||(kn=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n\n  input[type='checkbox'] {\n    opacity: 0;\n    width: 1em;\n    height: 1em;\n  }\n\n  .checked {\n    color: ",";\n  }\n\n  .checkbox-icon {\n    text-align: right;\n    padding: 0 0.5em;\n    font-size: 1.25em;\n  }\n\n  .checkbox-label {\n    margin-left: -1rem;\n  }\n\n  .checkbox-label.strike {\n    text-decoration: line-through;\n  }\n\n  .checkbox-label::first-letter {\n    text-transform: capitalize;\n  }\n"])),O.COLOR.GREEN));var En,An=function(n){var e=n.labelName,t=n.checkedState,i=n.onChange;return Object(m.jsxs)(Ln,Object(L.a)(Object(L.a)({},n),{},{children:[Object(m.jsx)("i",{className:"checkbox-icon",children:!0===t?Object(m.jsx)("i",{className:"checked",children:Object(m.jsx)(I.a,{})}):Object(m.jsx)(I.d,{})}),Object(m.jsx)("input",{type:"checkbox",value:e,checked:t,onChange:i}),Object(m.jsx)("span",{className:!0===t?"checkbox-label strike":"checkbox-label",children:e})]}))},Sn=t(26),Nn=j.b.button(En||(En=Object(b.a)(["\n  width: 100%;\n  padding: 0.5em 0.5em 0.5em 1em;\n  text-align: left;\n  border-top: ",";\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(n){return n.hasDivider?"1px solid ".concat(O.COLOR.GRAY):"0"}),(function(n){return n.isDanger?"".concat(O.COLOR.RED):"".concat(O.COLOR.GRAY)}),(function(n){return n.isDanger?"".concat(O.COLOR.WHITE):"".concat(O.COLOR.GRAY90)}));var Fn,Wn=function(n){var e=n.label;return Object(m.jsx)(Nn,Object(L.a)(Object(L.a)({},n),{},{children:e}))},In=j.b.div(Fn||(Fn=Object(b.a)(["\n  position: relative;\n\n  & > button:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  & > button:focus {\n    box-shadow: ",";\n  }\n  .overflow-menu--item {\n    display: block;\n    position: absolute;\n    right: 0;\n    z-index: 100;\n    width: max-content;\n    box-shadow: ",";\n  }\n\n  .blocker {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    content: ' ';\n  }\n"])),O.COLOR.GRAY,O.COLOR.GRAY90,O.BOXSHADOW,O.BOXSHADOW);function Tn(n){var e=n.children,t=Object(i.useState)(!1),c=Object(a.a)(t,2),o=c[0],r=c[1];return Object(m.jsxs)(In,{role:"main",children:[Object(m.jsx)(S,{ghost:!0,onClick:function(){return r(!o)},children:Object(m.jsx)(Sn.a,{})}),!0===o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"blocker",onClick:function(){return r(!1)}})," ",Object(m.jsx)("div",{className:"overflow-menu--item",children:e})]}):null]})}Tn.Item=Wn;var Gn=Tn;var zn=function(){var n=Object(i.useContext)(k).currentUser,e=n?n.uid:null,t=d.firestore().collection("products"),c=d.firestore().collection("shoppinglist"),o=Object(i.useState)([]),r=Object(a.a)(o,2),l=r[0],s=r[1],u=Object(i.useState)([]),b=Object(a.a)(u,2),j=b[0],O=b[1],h=Object(i.useState)(!1),f=Object(a.a)(h,2),p=f[0],x=f[1],g=Object(i.useState)({isOpen:!1}),v=Object(a.a)(g,2),C=v[0],R=v[1];Object(i.useEffect)((function(){x(!0),t.orderBy("aisle","asc").onSnapshot((function(n){var e=[];n.forEach((function(n){e.push(n.data())})),s(e),x(!1)})),x(!0),O([]),c.where("owner","==",e).orderBy("aisle","asc").onSnapshot((function(n){var e=[];n.forEach((function(n){e.push(n.data())})),O(e),x(!1)}))}),[n]);var w=j.map((function(n){return n.id}));return l.filter((function(n){return w.includes(n.id)})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(Z,{children:[Object(m.jsx)("h1",{children:"Shopping list"}),Object(m.jsxs)(Gn,{children:[Object(m.jsx)(Gn.Item,{label:"Remove checked items",onClick:function(){c.where("owner","==",e).where("checkedState","==",!0).onSnapshot((function(n){n.forEach((function(n){n.ref.delete()}))}))}}),Object(m.jsx)(Gn.Item,{label:"Clear list",isDanger:!0,onClick:function(){R({isOpen:!0})}}),Object(m.jsx)(Gn.Item,{label:"Logout",hasDivider:!0,onClick:P})]})]}),Object(m.jsx)(hn,{items:l,onClick:function(e){var t=e.target.value,i=l.filter((function(n){return n.id===t})),o=n?n.uid:"unknown",r=n?n.email:"unknown",a={aisle:i[0].aisle,item:i[0].item,id:i[0].id,checkedState:!1,owner:o,ownerEmail:r,createdAt:d.firestore.FieldValue.serverTimestamp(),lastUpdate:d.firestore.FieldValue.serverTimestamp()};c.doc(a.id).set(a).catch((function(n){console.error(n)}))},selected:j,placeholder:"+ Add an item"}),p?Object(m.jsx)(y,{}):null,!0===C.isOpen&&Object(m.jsx)(on,{heading:"Clear list",onClose:function(){return R({isOpen:!1})},onSave:function(){c.where("owner","==",e).onSnapshot((function(n){n.forEach((function(n){n.ref.delete()}))})),R({isOpen:!1}),alert("list successfully deleted")},primaryBtn:"Clear list",children:"This will remove all items on your list."}),Object(m.jsx)(wn,{children:j.length<1?Object(m.jsxs)("div",{className:"product-tile--empty",children:[Object(m.jsx)("img",{src:"/findtheproduct/images/watermelon01.svg",alt:"watermelon illustration",className:"user--illustration"}),Object(m.jsx)("p",{children:"Start building your list! Add your items and it will itemize it by aisle."})]}):j.map((function(n){return Object(m.jsxs)(gn,{className:"product-tile--item",children:[Object(m.jsx)(An,{checkedState:n.checkedState,labelName:"".concat(n.item," (").concat(n.aisle,")"),onChange:function(e){return function(n,e){var t={checkedState:n.target.checked,lastUpdate:d.firestore.FieldValue.serverTimestamp()};x(),c.doc(e.id).update(t).catch((function(n){console.error(n)}))}(e,n)}}),Object(m.jsx)("span",{className:"product-tile-buttons",children:Object(m.jsx)(S,{onClick:function(){return function(n){c.doc(n.id).delete().catch((function(n){console.error(n)}))}(n)},ghost:!0,children:Object(m.jsx)(I.h,{})})})]},n.id)}))})]})};t(36);var Bn=function(){var n=Object(i.useContext)(k).currentUser,e=n?n.email:null;return Object(m.jsx)("div",{className:"view",children:"karencumlat@gmail.com"===e?Object(m.jsx)(Rn,{}):null!==n?Object(m.jsx)(zn,{}):Object(m.jsx)(z,{})})};t(37);var Hn=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(R,{children:Object(m.jsx)(Bn,{})})})},Dn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(e){var t=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;t(n),i(n),c(n),o(n),r(n)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(Hn,{})}),document.getElementById("root")),Dn()}},[[38,1,2]]]);
//# sourceMappingURL=main.44a50cca.chunk.js.map