(this.webpackJsonpfindtheproduct=this.webpackJsonpfindtheproduct||[]).push([[0],{29:function(n,e,t){},34:function(n,e,t){},35:function(n,e,t){"use strict";t.r(e);var c=t(2),i=t.n(c),o=t(21),a=t.n(o),r=(t(29),t(7)),l=t(14);t(36),t(30);l.a.apps.length?l.a.app():l.a.initializeApp({apiKey:"AIzaSyBeVBGkX0XS5Rt8x4oFgY4VW1T9gfoeKbg",authDomain:"findtheproduct-d3a4d.firebaseapp.com",projectId:"findtheproduct-d3a4d"});var s,d,u,j,b,h,m,f=l.a,O=t(1),x=Object(c.createContext)(),p=function(n){var e=n.children,t=Object(c.useState)(null),i=Object(r.a)(t,2),o=i[0],a=i[1],l=Object(c.useState)(!0),s=Object(r.a)(l,2),d=s[0],u=s[1];return Object(c.useEffect)((function(){f.auth().onAuthStateChanged((function(n){a(n),u(!1)}))}),[]),d?Object(O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"},children:Object(O.jsx)("h1",{children:"Loading..."})}):Object(O.jsx)(x.Provider,{value:{currentUser:o},children:e})},g=t(38),v=t(9),y=["Aisle 1","Aisle 2","Aisle 3","Aisle 4","Aisle 5","Aisle 6","Aisle 7","Aisle 8","Aisle 9","Bakery","Deli","Canteen","Salad/Juice","Produce","Sushi","Seafood","Meat","Dairy","Patisserie"],k=t(5),C=t(4),w="#24a148",S="#161616",F="#FFFFFF",N="#F4F4F4",A="#6F6F6F",z=C.b.div(s||(s=Object(k.a)(["\n  .product-tile--item {\n    padding: 0.5em 0;\n    display: flex;\n    margin: 0.5em 0;\n    align-items: center;\n\n    .product-tile--name {\n      margin: 0 0 0 1rem;\n      flex: 2;\n      text-transform: capitalize;\n      display: flex;\n      flex-direction: column;\n\n      span {\n        font-size: 0.75em;\n        color: ",";\n      }\n    }\n  }\n\n  .add-new-item {\n    width: 100%;\n    position: sticky;\n    bottom: 0;\n    padding: 0 0 1.5em;\n    background-color: ",";\n    border: none;\n  }\n"])),A,F),I=(C.b.div(d||(d=Object(k.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  transform: translate(0, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.25em;\n    right: 0.25em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  > input {\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),F),t(11)),W=C.b.button(u||(u=Object(k.a)(["\n  padding: 0.5em;\n  width: ",";\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n"])),(function(n){return n.fullWidth?"100%":"auto"}),(function(n){return n.primary&&Object(C.a)(j||(j=Object(k.a)(["\n      background: ",";\n      color: ",";\n    "])),w,F)}),(function(n){return n.secondary&&Object(C.a)(b||(b=Object(k.a)(["\n      background: ",";\n      color: ",";\n    "])),S,F)}),(function(n){return n.tertiary&&Object(C.a)(h||(h=Object(k.a)(["\n      background: ",";\n      border: "," 1px solid;\n      color: ",";\n\n      &:hover {\n        background: ",";\n        color: ",";\n        border-color: ",";\n      }\n    "])),F,S,S,w,F,w)}),(function(n){return n.ghost&&Object(C.a)(m||(m=Object(k.a)(["\n      color: ",";\n\n      &:hover {\n        color: ",";\n      }\n    "])),S,w)}));var E,B=function(n){var e=n.onClick,t=n.children;return Object(O.jsx)(W,Object(I.a)(Object(I.a)({onClick:e},n),{},{children:t}))},L=C.b.div(E||(E=Object(k.a)(["\n  background: ",";\n  width: 90%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n\n  .modal--close-btn {\n    position: absolute;\n    top: 0.5em;\n    right: 0.5em;\n    padding: 0;\n    font-size: 2em;\n  }\n\n  h3 {\n    margin: 1em;\n  }\n\n  .modal-content {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .modal-content > * {\n    flex: 1;\n    margin: 1em;\n  }\n\n  .modal-btn {\n    display: flex;\n    width: 100%;\n    margin: 1em 0 0 0;\n    > btn {\n      flex: 1;\n    }\n  }\n"])),F);var P,T,U,V,D,J=function(n){var e=n.onClose,t=n.heading,c=n.onSave,i=n.children,o=n.primaryBtn,a=n.secondaryBtn;return Object(O.jsxs)(L,Object(I.a)(Object(I.a)({},n),{},{children:[Object(O.jsx)("h3",{children:t}),Object(O.jsx)(B,{onClick:e,ghost:!0,className:"modal--close-btn",children:Object(O.jsx)(v.c,{})}),Object(O.jsx)("div",{className:"modal-content",children:i}),Object(O.jsxs)("div",{className:"modal-btn",children:[Object(O.jsx)(B,{onClick:e,secondary:!0,fullWidth:!0,children:a||"Cancel"}),Object(O.jsx)(B,{onClick:c,primary:!0,fullWidth:!0,children:o||"Save"})]})]}))},R=C.b.div(P||(P=Object(k.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),K=C.b.span(T||(T=Object(k.a)(["\n  position: absolute;\n  right: 0.5em;\n  top: 0.3em;\n  font-size: 1.5em;\n  color: #272d36;\n"]))),M=C.b.div(U||(U=Object(k.a)(["\n  position: absolute;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  width: 100%;\n  height: 255px;\n  overflow-y: scroll;\n"]))),X=C.b.div((function(n){Object.assign({},n);return Object(C.a)(V||(V=Object(k.a)(["\n    position: relative;\n    ","\n    ","\n    ","\n  "])),K,R,M)})),q=C.b.button(D||(D=Object(k.a)(["\n  width: 100%;\n  padding: 0.5em 0.5em 0.5em 1em;\n  text-align: left;\n  border-bottom: 1px solid #e1e2e2;\n  text-transform: capitalize;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content:flex-start;\n}\n\n&:active {\n  background-color: red;\n}\n\n&:hover {\n  background-color: #e1e2e2;\n}\n\n\n"])));var G,Y=function(n){var e=n.option,t=n.children,c=n.onClick;return Object(O.jsx)(q,{onClick:c,value:e.id,children:t||e})};C.b.i(G||(G=Object(k.a)(["\n  color: ",";\n  font-size: 1.2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 0.25em;\n"])),w);var H,Q=function(n){var e=n.options,t=n.onClick,i=Object(c.useState)(!1),o=Object(r.a)(i,2),a=(o[0],o[1],Object(c.useState)(!1)),l=Object(r.a)(a,2),s=(l[0],l[1]);return e.length<1?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Y,{option:"No results found..."}),Object(O.jsxs)(Y,{onClick:function(){return s(!1)},children:[Object(O.jsx)("i",{className:"add-new-item--icon",children:Object(O.jsx)(v.a,{})})," ","Add New Item"]})]}):Object(O.jsx)(O.Fragment,{children:e.map((function(n){return Object(O.jsxs)(Y,{onClick:t,option:n,sub:n.aisle,children:[n.item," (",n.aisle,")"]},n.id)}))})},Z=C.b.input(H||(H=Object(k.a)(["\n  border: none;\n  width: ",";\n\n  padding: 1em;\n  background-color: ",";\n  border-bottom: "," 1px solid;\n\n  &:focus {\n    outline: "," 2px solid;\n    border: none;\n  }\n"])),(function(n){return n.fullWidth?"100%":"auto"}),N,S,w);var $=function(n){var e=n.type,t=n.placeholder,c=n.onChange,i=n.value,o=n.onFocus;return Object(O.jsx)(Z,Object(I.a)({type:e,placeholder:t,value:i,onChange:c,onFocus:o},n))};var _,nn=function(n){var e=n.items,t=n.onClick,i=n.placeholder,o=Object(c.useState)(""),a=Object(r.a)(o,2),l=a[0],s=a[1],d=Object(c.useState)(!1),u=Object(r.a)(d,2),j=u[0],b=u[1];return Object(O.jsxs)(X,{children:[Object(O.jsxs)(R,{children:[Object(O.jsx)($,{type:"text",placeholder:i||"find the product...",className:"search-box",value:l,onChange:function(n){s(n.target.value)},onFocus:function(){b(!0)},fullWidth:!0}),Object(O.jsx)(K,{children:j?Object(O.jsx)("button",{onClick:function(){s(""),b(!1)},children:Object(O.jsx)(v.f,{})}):Object(O.jsx)(v.h,{})})]}),!0===j?Object(O.jsx)(M,{children:Object(O.jsx)(Q,{options:e.filter((function(n){return n.item.toLowerCase().includes(l.toLowerCase())})),onClick:t})}):null]})},en=C.b.select(_||(_=Object(k.a)(["\n  padding: 0.75em;\n  outline: none;\n  color: ",";\n  border: none;\n  border-bottom: "," 1px solid;\n  text-transform: capitalize;\n  background: ",";\n  border-radius: 0;\n\n  &:focus {\n    outline: "," 2px solid;\n    border: none;\n  }\n"])),S,S,N,w);var tn,cn=function(n){var e=n.options,t=n.onChange,c=n.selectedItem;return console.log(c),e.length<1?"":Object(O.jsx)(en,{onChange:t,children:e.sort().map((function(n){return n===c?Object(O.jsx)("option",{value:n,selected:!0,children:n},n):Object(O.jsx)("option",{value:n,children:n},n)}))})},on=C.b.div(tn||(tn=Object(k.a)(["\n  background-color: ",";\n"])),N);var an,rn=function(n){var e=n.children;return Object(O.jsx)(on,Object(I.a)(Object(I.a)({},n),{},{children:e}))},ln=C.b.label(an||(an=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  cursor: pointer;\n\n  input[type='checkbox'] {\n    opacity: 0;\n    width: 1em;\n    height: 1em;\n  }\n\n  .checked {\n    color: ",";\n  }\n\n  .checkbox-icon {\n    text-align: right;\n    padding: 0 0.5em;\n    font-size: 1.25em;\n  }\n\n  .checkbox-label {\n    margin-left: -1rem;\n  }\n\n  .checkbox-label.strike {\n    text-decoration: line-through;\n  }\n\n  .checkbox-label::first-letter {\n    text-transform: capitalize;\n  }\n"])),w);var sn=function(n){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),i=t[0],o=t[1],a=n.labelName;return Object(O.jsxs)(ln,{children:[Object(O.jsx)("i",{className:"checkbox-icon",children:!0===i?Object(O.jsx)("i",{className:"checked",children:Object(O.jsx)(v.b,{})}):Object(O.jsx)(v.e,{})}),Object(O.jsx)("input",Object(I.a)({type:"checkbox",onChange:function(n){o(!i),console.log(n.target.value)},checked:i,value:a},n)),Object(O.jsx)("span",{className:!0===i?"checkbox-label strike":"checkbox-label",children:a})]})};var dn,un=function(){var n=Object(c.useContext)(x).currentUser,e=n?n.uid:null,t=n?n.email:null,i=Object(c.useState)([]),o=Object(r.a)(i,2),a=o[0],l=o[1],s=Object(c.useState)([]),d=Object(r.a)(s,2),u=d[0],j=d[1],b=Object(c.useState)(!1),h=Object(r.a)(b,2),m=h[0],p=h[1],k=Object(c.useState)(""),C=Object(r.a)(k,2),w=C[0],S=C[1],F=Object(c.useState)(""),N=Object(r.a)(F,2),A=N[0],I=N[1],W=Object(c.useState)(!1),E=Object(r.a)(W,2),L=E[0],P=E[1],T=Object(c.useState)({}),U=Object(r.a)(T,2),V=U[0],D=U[1],R=Object(c.useState)(!1),K=Object(r.a)(R,2),M=K[0],X=K[1],q=f.firestore().collection("products"),G=f.firestore().collection("shoppinglist");return Object(c.useEffect)((function(){p(!0),q.orderBy("aisle","asc").onSnapshot((function(n){var e=[];n.forEach((function(n){e.push(n.data())})),l(e),p(!1)})),p(!0),j([]),G.where("owner","==",e).orderBy("aisle","asc").onSnapshot((function(n){var e=[];n.forEach((function(n){e.push(n.data())})),j(e),p(!1)}))}),[n]),Object(O.jsx)(O.Fragment,{children:"karencumlat@gmail.com"===t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(nn,{items:a}),!0===L?Object(O.jsxs)(J,{heading:"Add New Item",onClose:function(){P(!1),I(null)},onSave:function(){return function(){var e=n?n.uid:"unknown",t=n?n.email:"unknown",c={aisle:w,item:A,id:Object(g.a)(),owner:e,ownerEmail:t,createdAt:f.firestore.FieldValue.serverTimestamp(),lastUpdate:f.firestore.FieldValue.serverTimestamp()};q.doc(c.id).set(c).catch((function(n){console.error(n)}))}()},primaryBtn:"Add",children:[Object(O.jsx)($,{placeholder:"Item name",type:"text",value:A,onChange:function(n){return I(n.target.value)}}),Object(O.jsx)(cn,{options:y,onChange:function(n){return S(n.target.value)}})]}):"",!0===M?Object(O.jsxs)(J,{heading:"Edit item",onClose:function(){X(!1),I(null)},onSave:function(){return function(n){var e={item:A,aisle:w,lastUpdate:f.firestore.FieldValue.serverTimestamp()};p(),q.doc(n.id).update(e).catch((function(n){console.error(n)}))}(V)},children:[Object(O.jsx)($,{placeholder:"Item name",type:"text",value:A,onChange:function(n){return I(n.target.value)}}),Object(O.jsx)(cn,{selectedItem:w,options:y,onChange:function(n){return S(n.target.value)}})]}):"",Object(O.jsx)("hr",{}),m?Object(O.jsx)("h1",{children:"Loading..."}):null,Object(O.jsxs)(z,{children:[a.map((function(n){return Object(O.jsxs)(rn,{className:"product-tile--item",children:[Object(O.jsxs)("div",{className:"product-tile--name",children:[Object(O.jsx)("p",{children:n.item}),Object(O.jsx)("span",{children:n.aisle})]}),Object(O.jsxs)("span",{className:"product-tile-buttons",children:[Object(O.jsx)(B,{onClick:function(){D(n),I(n.item),S(n.aisle),X(!0)},ghost:!0,children:Object(O.jsx)(v.g,{})}),Object(O.jsx)(B,{onClick:function(){return function(n){q.doc(n.id).delete().catch((function(n){console.error(n)}))}(n)},ghost:!0,children:Object(O.jsx)(v.i,{})})]})]},n.id)})),Object(O.jsx)("span",{className:"add-new-item",children:Object(O.jsx)(B,{primary:!0,fullWidth:!0,onClick:function(){return P(!0)},children:"Add New Item"})})," "]})]}):null!==n?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(nn,{items:a,onClick:function(e){var t=e.target.value,c=a.filter((function(n){return n.id===t})),i=n?n.uid:"unknown",o=n?n.email:"unknown",r={aisle:c[0].aisle,item:c[0].item,id:c[0].id,owner:i,ownerEmail:o,createdAt:f.firestore.FieldValue.serverTimestamp(),lastUpdate:f.firestore.FieldValue.serverTimestamp()};G.doc(r.id).set(r).catch((function(n){console.error(n)}))},placeholder:"+ Add an item"}),Object(O.jsx)("hr",{}),m?Object(O.jsx)("h1",{children:"Loading..."}):null,Object(O.jsx)(z,{children:u.map((function(n){return Object(O.jsxs)(rn,{className:"product-tile--item",children:[Object(O.jsx)(sn,{labelName:n.item}),Object(O.jsx)("span",{className:"product-tile-buttons",children:Object(O.jsx)(B,{onClick:function(){return function(n){G.doc(n.id).delete().catch((function(n){console.error(n)}))}(n)},ghost:!0,children:Object(O.jsx)(v.i,{})})})]},n.id)}))}),Object(O.jsx)(B,{onClick:function(){return G.where("owner","==",e).onSnapshot((function(n){n.forEach((function(n){n.ref.delete()}))})),void window.location.reload()},children:"Clear list"}),Object(O.jsx)(B,{secondary:!0,children:"Remove checked items"})]}):""})},jn=C.b.div(dn||(dn=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 4em;\n\n  .authy-form {\n    width: 100%;\n    height: 100%;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .authy-form--input > * {\n      margin: 0 0 1rem 0;\n    }\n\n    h3 {\n      margin-bottom: 0;\n    }\n\n    .authy-form--image {\n      margin: 0 0 1rem 0;\n    }\n\n    .authy--illustration {\n      width: 80%;\n      margin: 0 auto;\n      display: block;\n    }\n\n    .authy--login-btn {\n      margin: 1rem 0 0 0;\n    }\n\n    .authy-or {\n      display: flex;\n      justify-content: center;\n      margin: 0;\n    }\n  }\n  .authy-success {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n\n    h1 {\n      flex: 1;\n    }\n\n    button {\n      padding: 0;\n    }\n  }\n\n  .authy--logout-btn {\n    font-size: 2em;\n  }\n"])));var bn=function(){var n=Object(c.useState)(""),e=Object(r.a)(n,2),t=e[0],i=e[1],o=Object(c.useState)(""),a=Object(r.a)(o,2),l=a[0],s=a[1],d=Object(c.useState)(!1),u=Object(r.a)(d,2),j=(u[0],u[1]),b=Object(c.useContext)(x).currentUser,h=b?b.email:"",m=function(){i(""),s("")};return Object(O.jsx)(jn,{children:""===h?Object(O.jsxs)("div",{className:"authy-form",children:[Object(O.jsxs)("div",{className:"authy-form--image",children:[Object(O.jsx)("img",{src:"/findtheproduct/images/homescreen.svg",alt:"watermelon illustration",className:"authy--illustration"}),Object(O.jsx)("h3",{children:"Find the product."}),Object(O.jsx)("p",{children:"Find items quicks through the aisles."})]}),Object(O.jsxs)("div",{className:"authy-form--input",children:[Object(O.jsx)($,{type:"email",value:t,onChange:function(n){return i(n.target.value)},placeholder:"Email Address",fullWidth:!0}),Object(O.jsx)($,{type:"password",value:l,onChange:function(n){return s(n.target.value)},placeholder:"Password",fullWidth:!0}),Object(O.jsx)(B,{onClick:function(){f.auth().signInWithEmailAndPassword(t,l).then((function(){j(!0),m()})).catch((function(n){console.error(n),j(!1)}))},primary:!0,fullWidth:!0,className:"authy--login-btn",children:"Login"}),Object(O.jsx)("span",{className:"authy-or",children:"or"}),Object(O.jsx)(B,{onClick:function(){f.auth().createUserWithEmailAndPassword(t,l).then((function(){m()})).catch((function(n){console.error(n)}))},tertiary:!0,fullWidth:!0,children:"Register"})]})]}):Object(O.jsxs)("div",{className:"authy-success",children:[Object(O.jsx)("h1",{children:"find the product"}),Object(O.jsx)(B,{onClick:function(){f.auth().signOut(),j(!1)},className:"authy--logout-btn",ghost:!0,children:Object(O.jsx)(v.d,{})})]})})};t(34);var hn=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(p,{children:[Object(O.jsx)(bn,{}),Object(O.jsx)(un,{})]})})},mn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;t(n),c(n),i(n),o(n),a(n)}))};a.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(hn,{})}),document.getElementById("root")),mn()}},[[35,1,2]]]);
//# sourceMappingURL=main.17e72022.chunk.js.map